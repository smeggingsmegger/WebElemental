<link rel="stylesheet" type="text/css" href="/tests/html/css/selectize.css" />
<select id="testSelectize"></select>

<script type="text/javascript" src="/tests/html/js/jquery.js"></script>
<script type="text/javascript" src="/tests/html/js/selectize.js"></script>
<script type="text/javascript">
    $(function() {
        var selectizeConfiguration = {};

        var options = [
            {value: 'Option 1', text: 'Option 1'},
            {value: 'Option 2', text: 'Option 2'},
            {value: 'Option 3', text: 'Option 3'},
            {value: 'Option 4', text: 'Option 4'}
        ]

        if (window.location.search.indexOf('async') !== -1) {
            selectizeConfiguration.load = function(query, callback) {
                setTimeout(function() {
                    callback(options);
                }, 3000);
            }
        }
        else {
            selectizeConfiguration.options = options;
        }

        $('#testSelectize').selectize(selectizeConfiguration);
    });
</script>
